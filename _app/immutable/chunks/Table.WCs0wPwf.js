var Be=Object.defineProperty;var De=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>(De(e,typeof t!="symbol"?t+"":t,n),n);import{r as K,E as we,z as Oe,A as re,B as Ee,k as je,C as J,l as ie,D as Fe,n as W,p as $,F as Ke,G as Ne,H as oe,s as ye,e as se,c as Q,t as he,o as X,d as z,v as Re,b as H,a as me,f as ee}from"./disclose-version.B6bfPW4H.js";import{k as Z,o as U,A as Ve,v as Ue,s as B,q as Pe,t as Le,J as Ye,K as qe,w as Ge,S as Je,h as V,m as Qe,u as Xe,p as We,a as Ze,g as w,L as ve}from"./runtime.CKBWl8gs.js";import{t as Ae,i as pe}from"./if.rchw73mS.js";import{b as $e,r as et,a as tt}from"./Dag.DmkDWmJ4.js";import{p as Y,a as F,b as ae}from"./main-client.DGIB22UG.js";function nt(e,t){return{a:t,d:null,f:e,v:[],e:null,p:Le,r:null,s:[],t:Ye}}function lt(e,t,n){return{a:null,d:null,e:null,i:t,k:n,v:e,p:Le,r:null,s:null,t:qe}}function rt(e,t,n,l,r,o,f){const v=(n&J)!==0,s=nt(n,e);let E=null;je(e,v);let L,b=null,a=null,A=!1;s.r=c=>{const i=E,x=i.s;x.add(c),c.f(()=>{x.delete(c),x.size===0&&i.e!==null&&(i.d!==null&&(K(i.d),i.d=null),Z(i.e),i.e=null)})};const N=()=>{const c={d:null,e:null,s:new Set,p:E},i=U(()=>{const x=s.d;x!==null&&(K(x),s.d=null);let p=s.a;(s.f&J)!==0&&(ie?p=p.firstChild:(p=Fe(),s.a.appendChild(p))),o(p),c.d=s.d,s.d=null},s,!0);c.e=i,E=c},k=c=>{const i=c.f,x=(i&J)!==0,p=c.a;f(L,c,p,x,r,i,!0,b)},D=U(()=>{var x,p;const c=t();L=Ve(c)?c:c==null?[]:Array.from(c),l!==null?b=L.map(l):n&we||L.map(Ue);const i=L.length;if(ie){const T=((p=(x=W)==null?void 0:x[0])==null?void 0:p.data)==="ssr:each_else";T&&i||!T&&!i?(K(W),$(null),A=!0):T&&W.shift()}if(o!==null){if(i===0){if(s.v.length!==0||a===null){k(s),N();return}}else if(s.v.length===0&&E!==null){const T=E,O=T.s;O.size===0?T.d!==null&&(K(T.d),T.d=null):Ae(O,"out")}}a!==null&&Pe(a)},s,!1);a=U(k,s,!0),A&&$([]),D.ondestroy=()=>{const c=s.f,i=s.a,x=(c&J)!==0;let p=E;for(;p!==null;){const T=p.d;T!==null&&K(T);const O=p.e;O!==null&&Z(O),p=p.p}f([],s,i,x,r,c,!1,b),Z(a)},s.e=D}function st(e,t,n,l,r){rt(e,t,n,null,l,r,at)}function at(e,t,n,l,r,o,f){o&oe&&!Ge(e)&&!(Je in e)&&(o^=oe);var v=t.v,s=t.s,E=v.length,L=e.length,b=Math.max(E,L),a=0,A,N;if(s.length!==0&&ct(s),L===0)for(A=[],l&&E!==0&&Oe(n);a<b;)N=v[a++],ce(N,s,f,l);else{var k;let x=!1;if(A=Array(L),ie){for(var D=W,c=D[0];a<b;a++){var i=Ke(c);if($(i),!i){x=!0;break}k=e[a],N=be(k,null,a,r,o),A[a]=N,c=i[i.length-1].nextSibling.nextSibling}it(D,c)}for(;a<b;a++)a>=E?(k=e[a],N=be(k,null,a,r,o),A[a]=N,ot(N,n,l,null)):a>=L?(N=v[a],ce(N,s,f)):(k=e[a],N=v[a],A[a]=N,ut(N,k,a,o));x&&$([])}t.v=A}function it(e,t){if(t!==null){var n=e.indexOf(t);n!==-1&&e.length>n+1&&K(e.slice(n))}}function ot(e,t,n,l){var r=e.d;return l===null?n?re(r,t,null):re(r,t.parentNode,t):re(r,null,l)}function ct(e){var t=e.length;if(t>0){for(var n=0,l,r;n<t;n++)l=e[n],r=l.r,r!==null&&(l.r=null,ce(l,null,!1));e.length=0}}function ut(e,t,n,l){const r=e.v;l&Ee&&B(r,t);const o=e.s,f=(l&Ne)!==0,v=e.a;o!==null&&l&we&&v!==null&&v(e,o),f?B(e.i,n):e.i=n}function ce(e,t,n,l=!1){const r=e.s;if(n&&r!==null){for(let f of r)f.r==="key"&&r.delete(f);if(r.size===0)e.s=null;else{Ae(r,"out"),t!==null&&t.push(e);return}}const o=e.d;!l&&o!==null&&K(o),Z(e.e)}function be(e,t,n,l,r){const f=(r&Ee)===0?e:r&oe?V(e):Qe(e),v=r&Ne?V(n):n,s=lt(f,v,t),E=U(L=>{l(null,L.v,L.i)},s,!0);return s.e=E,s}function ft(e,t,n){e.addEventListener("input",()=>{n(ge(e)?xe(e.value):e.value)}),U(()=>{var l=t();e.__value=l,!(ge(e)&&l===xe(e.value))&&(e.type==="date"&&!l&&!e.value||(e.value=ye(l)))})}function ge(e){var t=e.type;return t==="number"||t==="range"}function xe(e){return e===""?null:+e}function Ce(e){return function(...t){var n=t[0];return n.preventDefault(),e.apply(this,t)}}var dt=ee("<li><a> </a></li>"),_t=ee('<li><a class="text-base-300">No Items Found</a></li>'),ht=ee('<div class="label"><span class="label-text-alt text-error"> </span></div>'),mt=ee('<form><div class="p-1 bg-base-100 w-full rounded-lg"><div class="flex"><div class="join"><div class="dropdown join-item"><label class="!focus:outline-none bg-white !focus:outline-0 !focus:border-0 input input-bordered join-item flex items-center gap-2"> <input class="grow !focus:outline-none !focus:outline-0 !focus:border-0"></label> <ul tabindex="0" class="dropdown-content bg-white z-[1] menu p-2 shadow rounded-box w-full max-h-80 flex-nowrap overflow-auto"><!> <!></ul></div> <button class="btn btn-outline bg-white z-10 join-item">Search</button></div> <button style="display: none;" type="submit">Submit</button></div> <!></div></form>');function Nt(e,t){Ze(t,!0);function n(u,d){if(u===d)return 0;const h=u.length,g=d.length;if(h===0||g===0)return h+g;let C=0,_,M,I,y,m,S,j=0;const P=new Uint16Array(h),R=new Uint32Array(h);for(_=0;_<h;)R[_]=u.charCodeAt(_),P[_]=++_;for(;C+3<g;C+=4){const le=d.charCodeAt(C),Me=d.charCodeAt(C+1),Se=d.charCodeAt(C+2),ze=d.charCodeAt(C+3);for(y=C,I=C+1,m=C+2,S=C+3,j=C+4,_=0;_<h;_++)M=P[_],M<y||I<y?y=M>I?I+1:M+1:le!==R[_]&&y++,y<I||m<I?I=y>m?m+1:y+1:Me!==R[_]&&I++,I<m||S<m?m=I>S?S+1:I+1:Se!==R[_]&&m++,m<S||j<S?S=m>j?j+1:m+1:ze!==R[_]&&S++,P[_]=j=S,S=m,m=I,I=y,y=M}for(;C<g;){const le=d.charCodeAt(C);for(y=C,m=++C,_=0;_<h;_++)M=P[_],M<y||m<y?m=M>m?m+1:M+1:le!==R[_]?m=y+1:m=y,P[_]=m,y=M;j=m}return j}let l,r,o;const f=Y(t,"prefix",3,"Node"),v=Y(t,"init_items",11,()=>[]),s=Y(t,"placeholder_text",3,"Choose a node"),E=Y(t,"on_search",3,u=>console.log(`Selected ${u}.`)),L=Y(t,"custom_error_msg",3,"Node not found");let b=V(""),a=V(""),A=V(F(v()));function N(u){B(A,F(u))}const k=()=>{o.classList.remove("input-error"),w(A).includes(w(b))?(E()(w(b)),B(a,"")):(o.classList.add("input-error"),B(a,F(L())))};function D(u,d=!1,h=!1){(r.checkVisibility({visibilityProperty:!0})&&r.style.visibility!=="hidden"||d)&&(l.blur(),r.blur()),B(b,F(u))}let c,i=V(F([""]));const x=u=>{if(w(b).length===0){B(i,F(w(A).slice(0,50))),clearTimeout(c);return}clearTimeout(c),c=setTimeout(()=>{let d=w(A).filter(h=>h.toLowerCase().includes(w(b).toLowerCase()));d.length>500?d=d.sort((h,g)=>Number.isNaN(Number.parseInt(h))&&Number.isNaN(Number.parseInt(g))?h.localeCompare(g):Number.parseInt(h)-Number.parseInt(g)):d=d.sort((h,g)=>w(b)===""?Number.isNaN(Number.parseInt(h))&&Number.isNaN(Number.parseInt(g))?h.localeCompare(g):Number.parseInt(h)-Number.parseInt(g):n(h,w(b))-n(g,w(b))),B(i,F(d.slice(0,50)))},100)};Xe(()=>{x(w(b))});var p=X(e,!0,mt),T=H(p),O=H(T),Te=H(O),ue=H(Te),te=H(ue);ae(te,u=>o=u,()=>o);var fe=H(te),q=z(fe);ae(q,u=>l=u,()=>l),et(q);var de=z(z(te,!0));ae(de,u=>r=u,()=>r);var _e=H(de),Ie=z(z(_e,!0)),ke=z(z(ue,!0)),He=z(z(O,!0)),ne;return U(()=>{Re(fe,`${ye(f())}: `),ne!==(ne=s())&&tt(q,"placeholder",ne)}),se("submit",p,Ce(()=>{w(i).length!=0&&(D(w(i)[0]),k())}),!1),ft(q,()=>w(b),u=>B(b,u)),st(_e,()=>w(i),65,(u,d,h)=>{var g=X(u,!0,dt),C=H(g),_=me(H(C));he(_,()=>ve(d)),se("click",C,Ce(()=>D(ve(d),!0)),!1),Q(u,g)},null),pe(Ie,()=>w(i).length===0,u=>{var d=X(u,!0,_t);Q(u,d)},null),se("click",ke,()=>k(),!1),pe(He,()=>w(a).length!==0,u=>{var d=X(u,!0,ht),h=H(d),g=me(H(h));he(g,()=>w(a)),Q(u,d)},null),Q(e,p),$e(t,"update_items",N),We({update_items:N})}function yt(e){return Promise.all(e.map(t=>fetch(t).then(n=>n.text())))}function vt(e){const t=Number.parseFloat(e);return Number.isNaN(t)?e:pt(t).toString()}function pt(e){return Math.abs(e)<.01?e.toExponential(2):`${Math.round(e*100)/100}`}class Lt{constructor(t){G(this,"config");G(this,"HTML");G(this,"table_classes",["table","table-sm","table-zebra","w-full","grow","mt-1","overflow-x-auto","overflow-y-auto","max-h-96"]);this.config=t,this.HTML=document.createElement("table")}generate(){const t=document.createElement("table");return t.classList.add(...this.table_classes),t.appendChild(this.generate_header()),t.appendChild(this.generate_body()),this.HTML=t,t}generate_header(){const t=document.createElement("thead"),n=document.createElement("tr");for(let l=0;l<this.config.headers.length;l++){const r=document.createElement("th");r.innerHTML=this.config.headers[l],n.appendChild(r)}return t.appendChild(n),t}generate_body(){const t=document.createElement("tbody");for(let n=0;n<this.config.rows.length;n++){const l=document.createElement("tr");let r=document.createElement("td");for(let o=0;o<this.config.rows[n].length;o++){const f=document.createElement("td");f.innerHTML=vt(this.config.rows[n][o]),this.config.rows[n][o].includes("href")&&f.classList.add("link"),o===0&&(r=f),l.appendChild(f)}if(this.config.has_color){const o=r.innerHTML;r.innerHTML="";const f=document.createElement("div");f.setAttribute("data-tip",`Color nodes in the graph by their association with ${o}`),f.classList.add("tooltip"),f.classList.add("tooltip-right"),f.classList.add("tooltip-accent");const v=document.createElement("button");v.classList.add("btn"),v.classList.add("btn-sm"),v.classList.add("btn-link"),v.innerHTML=o,v.addEventListener("click",()=>{var s,E;(E=(s=this.config).color_callback)==null||E.call(s,this.config.rows[n][0])}),f.appendChild(v),r.appendChild(f)}t.appendChild(l)}return t}}export{Nt as A,Lt as B,yt as f};
