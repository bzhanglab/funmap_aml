import{t as q,s as I,c as H,o as J,b as t,d as r,f as K,j as Y,m as Z}from"../chunks/disclose-version.B6bfPW4H.js";import{a as F,p as Q,h as S,g as T,s as l}from"../chunks/runtime.CKBWl8gs.js";import{i as $}from"../chunks/if.rchw73mS.js";import{p as V,o as R,b as P,a as z}from"../chunks/main-client.DGIB22UG.js";import{B as ee,A as te,f as re}from"../chunks/Table.WCs0wPwf.js";import{m as se,D as ae}from"../chunks/Dag.DmkDWmJ4.js";var ie=K('<div class="grid grid-cols-3 gap-4 items-center grid-flow-col-dense mt-10"><div class="col-span-2"><div class=" flex-col text-center justify-center justify-center z-0"><h1 class="text-2xl font-bold"> </h1> <div class="w-full grow"></div></div></div> <div class="col-span-1"><div class="border border-black z-1"><!></div> <h2 class="text-l font-bold">Neighborhood Members</h2> <article class="prose w-full"><p class="text-overflow leading-normal"></p></article></div></div>');function oe(u,o){F(o,!0);let c;const h=V(o,"dag_options",11,()=>({})),m=V(o,"table_data",11,()=>[]),n=V(o,"color_info",11,()=>({})),d=se(h(),{title:{text:"Neighborhood Graph"}});let f;function p(s){s.color_callback=b;const G=new ee(s).generate();f.appendChild(G)}let v;function b(s){const B=n()[s];v(B)}R(()=>{for(let s=0;s<m().length;s++)p(m()[s]);c.innerText=o.dag_data.nodes.map(s=>s.name).join(", ")});var _=J(u,!0,ie),w=t(_),x=t(w),k=t(x),L=t(k),M=r(r(k,!0));P(M,s=>f=s,()=>f);var y=r(r(w,!0)),j=t(y),A=t(j),E=r(r(j,!0)),C=r(r(E,!0)),D=t(C);P(D,s=>c=s,()=>c),q(L,()=>`Neighborhood ${I(o.subnetwork_id)}`),ae(A,{get update_values(){return v},set update_values(s){v=s},get init_dag_data(){return o.dag_data},init_dag_options:d,dag_width:"100%"}),H(u,_),Q()}var ne={name:"biography",version:"0.0.1",private:!0,scripts:{dev:"vite dev",build:"vite build",preview:"vite preview",test:"npm run test:integration && npm run test:unit",check:"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json","check:watch":"svelte-kit sync && svelte-check --tsconfig ./tsconfig.json --watch",lint:"prettier --check . && eslint .",format:"prettier --write .","test:integration":"playwright test","test:unit":"vitest",fix:"eslint --fix ."},devDependencies:{"@biomejs/biome":"1.6.1","@playwright/test":"^1.28.1","@sveltejs/adapter-auto":"^3.0.0","@sveltejs/adapter-static":"^3.0.1","@sveltejs/kit":"^2.0.0","@sveltejs/vite-plugin-svelte":"^3.0.0","@tailwindcss/typography":"^0.5.10","@types/eslint":"^8.56.0","@typescript-eslint/eslint-plugin":"^7.0.0","@typescript-eslint/parser":"^7.0.0",autoprefixer:"^10.4.19",daisyui:"^4.7.3",eslint:"^8.56.0","eslint-config-prettier":"^9.1.0","eslint-plugin-import":"^2.29.1","eslint-plugin-svelte":"^2.36.0-next.4",postcss:"^8.4.38",prettier:"^3.1.1","prettier-plugin-svelte":"^3.1.2",svelte:"^5.0.0-next.1","svelte-check":"^3.6.0",tailwindcss:"^3.4.1",tslib:"^2.4.1",typescript:"^5.0.0",vite:"^5.0.3",vitest:"^1.2.0"},type:"module",dependencies:{"@fontsource-variable/dm-sans":"^5.0.4",echarts:"^5.5.0"}},le=()=>{document.getElementById("search_error_container").classList.add("hidden")},ce=K('<div class="flex justify-center justify-items-center mt-2 space-x-4"><div class="flex-col text-center justify-center justify-center w-1/3 z-0"><div class="flex flex-col gap-4 w-full"><div class="skeleton h-32 w-full"></div> <div class="skeleton h-4 w-28"></div> <div class="skeleton h-4 w-full"></div> <div class="skeleton h-4 w-full"></div></div></div> <div class="w-1/4 z-1"><div class="skeleton w-full h-32"></div></div></div>'),de=K('<div class="flex flex-col h-screen"><main class="justify-items-center mb-auto flex-col overflow-visible"><div class="mt-10 flex mx-auto justify-center justify-items-center"><article class="prose"><h1 class="text-center"> </h1> <p> </p></article></div> <div class="flex text-center justify-center justify-center mt-3 mb-auto mx-auto space-x-4 justify-items-center"><div class="p-1 bg-base-100 rounded-lg w-1/4"><!></div></div> <div class="mt-10 hidden flex mx-auto justify-center justify-items-center text-base-100" id="search_error_container"><div role="alert" class="w-14 alert alert-error text-center flex items-center text-neutral-950"><a class="close ml-2 hover:bg-base-100/10 hover:bg- rounded-lg p-1" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="no/ne" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></a> <span id="search_error"></span></div></div> <!> <div id="subnetwork_container" class="w-full mt-2 flex-col px-20"></div></main> <footer class="footer footer-center p-4 bg-base-100 text-base-content"><aside><p>Built with <a class="link" href="https://github.com/bzhanglab/biography/" target="_blank"> </a></p></aside></footer></div>');function ge(u,o){F(o,!0);function c(e){const a=document.getElementById("search_error");a.textContent=e,document.getElementById("search_error_container").classList.remove("hidden")}function h(){const e=document.getElementById("search_error");e.textContent="",document.getElementById("search_error_container").classList.add("hidden")}function m(e,a="subnetwork_container"){return fetch(`../data/neighborhood/dag/${e}.json`).then(i=>{if(!i.ok)throw c(`Error fetching data for clique ${e}`),l(n,!1),new Error(`Error fetching data for clique ${e}`);return h(),i.json()}).then(i=>{fetch(`../data/neighborhood/table/${e}.json`).then(N=>{if(!N.ok)throw c(`Error fetching table data for clique ${e}`),l(n,!1),new Error(`Error fetching table data for clique ${e}`);return h(),N.json()}).then(N=>{fetch(`../data/neighborhood/color/${e}.json`).then(g=>{if(!g.ok)throw c(`Error fetching color data for clique ${e}`),l(n,!1),new Error(`Error fetching color data for clique ${e}`);return h(),g.json()}).then(g=>{const O=document.getElementById(a);O.innerHTML="",Z(oe,{target:O,props:{subnetwork_id:e,dag_data:i,dag_options:g,table_data:N,color_info:g}})})})})}let n=S(!0);const d=z([]);let f=S(z({})),p=S(e=>{});R(()=>{re(["../data/info/neighborhood_info.json"]).then(e=>e.map(i=>JSON.parse(i))).then(e=>{const a=e[0];if(a.is_range)for(let i=a.range.start;i<=a.range.end;i++)d.push(`${i}`);else d.push(...a.items);T(p)(d),l(f,z(e[2])),l(n,!1)})});var v=J(u,!0,de),b=t(v),_=t(b),w=t(_),x=t(w),k=t(x);k.nodeValue=`${I("AML FunMap")} Neighborhood Search`;var L=r(r(x,!0)),M=t(L);M.nodeValue=`Search by ${I("genes")} to view information about the neighborhood and their associated
					features.`;var y=r(r(_,!0)),j=t(y),A=t(j),E=r(r(y,!0)),C=t(E),D=t(C),s=r(r(E,!0)),B=r(r(b,!0)),G=t(B),U=t(G),W=r(t(U)),X=t(W);q(X,()=>`BioGraphy v${I(ne.version)}`),te(A,{get update_items(){return T(p)},set update_items(e){l(p,z(e))},get init_items(){return d},prefix:"Neighborhood",on_search:e=>{l(n,!0),m(e).then(()=>{l(n,!1)})}}),D.__click=[le],$(s,()=>T(n),e=>{var a=J(e,!0,ce);H(e,a)},null),H(u,v),Q()}Y(["click"]);export{ge as component};